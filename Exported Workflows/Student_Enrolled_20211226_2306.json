{"name":"Student Enrolled","description":"{\"text\":\"<p><span style=\\\"font-size: 0.9375rem;\\\">The workflow will send the course and student details to an external system via HTTP Post.<\\\/span><br><\\\/p>\",\"format\":\"1\"}","event":"\\core\\event\\user_enrolment_created","debug":"1","steps":{"10":{"id":"10","name":"Course Lookup","description":"Lookup the course details, based on the course ID in the triggered event.","type":"lookups","stepclass":"\\tool_trigger\\steps\\lookups\\course_lookup_step","data":"{\"courseidfield\":\"courseid\",\"outputprefix\":\"course_\",\"stepdesc\":\"Course lookup\",\"typedesc\":\"Lookup\"}","steporder":"0"},"11":{"id":"11","name":"User Lookup","description":"Lookup the details of the student who completed the course based on the related user ID in the event.","type":"lookups","stepclass":"\\tool_trigger\\steps\\lookups\\user_lookup_step","data":"{\"useridfield\":\"relateduserid\",\"outputprefix\":\"user_\",\"nodeleted\":\"1\",\"stepdesc\":\"User lookup\",\"typedesc\":\"Lookup\"}","steporder":"1"},"13":{"id":"13","name":"HTTP Post","description":"Let an external system know about the course enrollment information for this student.","type":"actions","stepclass":"\\tool_trigger\\steps\\actions\\http_post_action_step","data":"{\"url\":\"http:\\\/\\\/localhost:8080\\\/updateCourseEnrollments\",\"httpheaders\":\"Content-Type: application\\\/json\\r\\nAccept: application\\\/json\",\"httpparams\":\"courseShortname={course_shortname}&studentIndex={user_idnumber}&studentFirstname={user_firstname}&studentLastname={user_lastname}&studentEmail={user_email}\",\"jsonencode\":\"1\",\"expectedresponse\":\"200\",\"stepdesc\":\"HTTP Post\",\"typedesc\":\"Action\"}","steporder":"2"}},"moodleversion":"2021051704.12","pluginversion":"2021030405"}